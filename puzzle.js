let rows = 3;
let column = 3;
var currtile ;
var othertile; //blank tile

let turns = 0; 

// let imgorder = ['1', '2', '3', "4" ,'5','6' ,'7', '8' ,'9',]
let imgorder = ['1', '9', '3', "6" ,'5','2' ,'8', '7' ,'4',]


window.onload = function  (){
    for (let r = 0; r< rows; r++) {    //loop through row
        for (let c = 0; c < column; c++) {   //loop through column
            var tile = document.createElement ('img')  //create images array
            tile.id = r.toString()+ '-' + c.toString() //change images to string(unique id for thier position)
            // tile = r.toString()+ '-' + c.toString()
            // console.log(tile)
            tile.src = imgorder.shift() + ".jpg" //removing the numbers and adding the images
            document.getElementById('board').append(tile)


            tile.addEventListener ('dragstart' , dragstart)
           tile.addEventListener('dragover', dragover)
           tile.addEventListener('dragenter', dragenter)
           tile.addEventListener('dragleave', dragleave)
           tile.addEventListener('drop', drop)
           tile.addEventListener('dragend', dragend)



        }
    }
}

 function dragstart(e){
     currtile = this
     console.log(this)
 }

function dragover(e){
    e.preventDefault();
}

function dragenter(e){
    e.preventDefault();
}
function dragleave(e){
}
function drop(e){
    othertile= this
}
function dragend(e){
    if (!othertile.src.includes('5.jpg')){
        return;
    }
    let currcord = currtile .id.split("-") //split to array
    console.log(currtile.id)
    console.log(currcord[0])
    let r = parseInt(currcord[0]) //converts to integer
    // console.log(r)

    let c = parseInt(currcord[1])
     console.log(c)

    let othercord = othertile .id.split("-")
    let r2 = parseInt(othercord[0])
    let c2= parseInt(othercord[1])
    let moveright = r == r2 && c2 == c-1
    console.log(moveright)
    let moveleft = r == r2 && c2 == c+1
    console.log(moveleft)

    let moveup = c == c2 && r2 == r-1
    let movedown = c == c2 && r2 == r+1
    let adj = moveleft || moveright || moveup || movedown;
 
     if (adj){
let   currimg = currtile.src
let  otherimg = othertile .src
currtile.src = otherimg
othertile .src = currimg
}

turns +=1
document .getElementById('turns').innerHTML = turns;

if (turns==200){
    alert("game over")
    turns = 0
 document .getElementById('turns').innerHTML = turns;  
  
}


}

























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































